<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEOL AI Asistan - Dil KurslarÄ±</title>
    
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Custom CSS Variables -->
    <style>
        :root {
            --teol-50:  #EAF4FF;
            --teol-100: #D5E9FF;
            --teol-200: #ACD3FF;
            --teol-300: #7BBAFF;
            --teol-400: #4D9EFF;
            --teol-500: #1E84FF;
            --teol-600: #106EE0;
            --teol-700: #0B57B3;
            --teol-800: #093E82;
            --teol-900: #072B59;
            --teal-500: #22C1E6;
            --success: #16A34A;
            --warning: #F59E0B;
            --danger: #EF4444;
            --bg: #F0F7FF;
            --card: #FFFFFF;
            --muted: #5B6B7C;
            --border: #D5E9FF;
            --shadow: 0 10px 30px rgba(30,132,255,.12);
        }
        
        body { font-family: 'Inter', system-ui, sans-serif; }
        
        /* Mikro animasyonlar */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes ripple {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.6); opacity: 0; }
        }
        
        @keyframes breathing {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .animate-fadeIn { animation: fadeIn 0.2s ease; }
        .animate-ripple { animation: ripple 1.5s infinite; }
        .animate-breathing { animation: breathing 2s ease-in-out infinite; }
        
        /* Scrollbar styling */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: var(--teol-50); border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: var(--teol-300); border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: var(--teol-400); }
        
        /* Focus rings */
        .focus-ring:focus { outline: none; box-shadow: 0 0 0 2px var(--teol-300); }
        
        /* Custom backdrop blur for mobile */
        .backdrop-blur-teol { backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'teol': {
                            50: '#EAF4FF',
                            100: '#D5E9FF', 
                            200: '#ACD3FF',
                            300: '#7BBAFF',
                            400: '#4D9EFF',
                            500: '#1E84FF',
                            600: '#106EE0',
                            700: '#0B57B3',
                            800: '#093E82',
                            900: '#072B59'
                        },
                        'teal': {
                            500: '#22C1E6'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen" style="background: linear-gradient(135deg, var(--teol-50) 0%, #FFFFFF 40%, var(--teol-100) 100%);">
    
    <!-- Ana Konteyner -->
    <div class="max-w-5xl mx-auto px-4 md:px-6 py-6 space-y-6">
        
        <!-- BaÅŸlÄ±k Ã‡ubuÄŸu -->
        <header class="rounded-2xl bg-white shadow-[var(--shadow)] border border-[var(--border)] p-4 md:p-5 flex items-center justify-between animate-fadeIn">
            <div class="flex items-center gap-3">
                <!-- TEOL Logo (SVG placeholder) -->
                <div class="h-8 w-8 rounded-lg bg-gradient-to-br from-teol-500 to-teol-600 flex items-center justify-center">
                    <i data-lucide="brain-circuit" class="w-5 h-5 text-white"></i>
                </div>
                <h1 class="text-xl md:text-2xl font-semibold text-[var(--teol-700)]">
                    TEOL AI Asistan
                </h1>
            </div>
            <div class="flex items-center gap-3">
                <!-- TEOL Badge -->
                <span class="px-3 py-1 rounded-full text-xs border border-[var(--teol-200)] bg-gradient-to-r from-[var(--teol-50)] to-[var(--teol-100)] text-[var(--teol-700)] font-medium">
                    <i data-lucide="graduation-cap" class="w-3 h-3 inline mr-1"></i>
                    Dil KurslarÄ±
                </span>
            </div>
        </header>

        <!-- Ana Sohbet AlanÄ± -->
        <div class="rounded-2xl bg-white shadow-[var(--shadow)] border border-[var(--border)] overflow-hidden animate-fadeIn">
            
            <!-- Avatar BÃ¶lÃ¼mÃ¼ -->
            <div class="p-4 md:p-6 border-b border-[var(--border)] bg-gradient-to-br from-[var(--teol-100)] via-[var(--teol-50)] to-white">
                <div class="flex flex-col items-center text-center space-y-4">
                    <!-- Avatar Video/Placeholder -->
                    <div class="relative">
                        <video id="aiAvatar" 
                               width="80" height="80" 
                               muted loop 
                               class="rounded-full object-cover border-3 border-white shadow-lg transition-all duration-300 hover:scale-105" 
                               style="display: block;"
                               onerror="this.style.display='none'; document.getElementById('avatarPlaceholder').style.display='flex';">
                            <source src="/ai-avatar.mp4" type="video/mp4">
                        </video>
                        
                        <!-- Fallback Avatar -->
                        <div id="avatarPlaceholder" 
                             class="w-20 h-20 rounded-full shadow-lg transition-all duration-300 hover:scale-105" 
                             style="display: flex;">
                            <img src="/avatar.svg" alt="TEOL Avatar" class="w-full h-full rounded-full">
                        </div>
                        
                        <!-- KonuÅŸma Durumu -->
                        <div id="speakingIndicator" class="absolute -bottom-1 -right-1 w-6 h-6 bg-[var(--teal-500)] rounded-full flex items-center justify-center opacity-0 transition-opacity duration-200">
                            <i data-lucide="volume-2" class="w-3 h-3 text-white"></i>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="font-semibold text-[var(--teol-700)] mb-1">TEOL Dil AsistanÄ±</h3>
                        <p class="text-sm text-[var(--muted)]" id="avatarStatus">HazÄ±r</p>
                    </div>
                </div>
            </div>
            
            <!-- Sohbet MesajlarÄ± -->
            <div class="h-[62vh] md:h-[66vh] overflow-y-auto custom-scrollbar p-4 md:p-6 space-y-4" id="chatMessages">
                
                <!-- HoÅŸ Geldin MesajÄ± -->
                <div class="flex items-start gap-3 animate-fadeIn">
                    <div class="w-9 h-9 rounded-full bg-[var(--teol-100)] flex items-center justify-center flex-shrink-0">
                        <i data-lucide="bot" class="w-4 h-4 text-[var(--teol-700)]"></i>
                    </div>
                    <div class="bg-[var(--teol-50)] border border-[var(--border)] text-[var(--teol-800)] rounded-2xl px-4 py-3 max-w-[78%] transition-all duration-200 hover:shadow-sm">
                        <p class="leading-relaxed">Merhaba! Ben TEOL Dil KurslarÄ± iÃ§in geliÅŸtirilmiÅŸ AI asistanÄ±nÄ±zÄ±m. Size nasÄ±l yardÄ±mcÄ± olabilirim? ðŸš€</p>
                        <div class="text-[11px] text-[var(--muted)] mt-2" id="welcomeTime">Åžimdi</div>
                    </div>
                </div>
                
                <!-- BoÅŸ Durum (mesaj yoksa gÃ¶sterilecek) -->
                <div id="emptyState" class="hidden flex-col items-center justify-center py-12 text-center">
                    <div class="w-16 h-16 rounded-full bg-[var(--teol-50)] mb-4 flex items-center justify-center">
                        <i data-lucide="message-circle" class="w-8 h-8 text-[var(--teol-400)]"></i>
                    </div>
                    <h3 class="font-medium text-[var(--teol-700)] mb-2">HenÃ¼z mesaj yok</h3>
                    <p class="text-sm text-[var(--muted)]">Sohbete baÅŸlamak iÃ§in aÅŸaÄŸÄ±ya bir mesaj yazÄ±n</p>
                </div>
                
            </div>
        </div>

        <!-- Kontrol Ã‡ipleri -->
        <div class="flex flex-wrap gap-2 animate-fadeIn">
            <button class="text-[var(--danger)] border-[var(--danger)]/20 hover:bg-red-50 border px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 flex items-center gap-2 focus-ring" 
                    id="clearHistoryBtn" title="GeÃ§miÅŸi Temizle">
                <i data-lucide="trash-2" class="w-4 h-4"></i>
                <span class="hidden sm:inline">Sohbeti Temizle</span>
            </button>
            
            <button class="bg-[var(--teol-50)] text-[var(--teol-700)] hover:bg-[var(--teol-100)] border border-[var(--border)] px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 flex items-center gap-2 focus-ring" 
                    id="infoBtn" title="TEOL HakkÄ±nda">
                <i data-lucide="info" class="w-4 h-4"></i>
                <span class="hidden sm:inline">TEOL HakkÄ±nda</span>
            </button>
        </div>

        <!-- Girdi AlanÄ± -->
        <div class="sticky bottom-0 rounded-2xl bg-white/90 backdrop-blur-teol shadow-[var(--shadow)] border border-[var(--border)] p-3 md:p-4 animate-fadeIn">
            <div class="flex items-end gap-3">
                
                <!-- Metin Girdi -->
                <div class="flex-1 relative">
                    <textarea 
                        id="messageInput" 
                        placeholder="MesajÄ±nÄ±zÄ± yazÄ±n..." 
                        rows="1"
                        maxlength="1000"
                        class="w-full rounded-xl border border-[var(--border)] focus:ring-2 focus:ring-[var(--teol-300)] focus:border-[var(--teol-300)] px-4 py-3 resize-none transition-all duration-200 placeholder:text-[var(--muted)] text-sm leading-relaxed focus:outline-none"
                        style="min-height: 44px; max-height: 120px;"
                    ></textarea>
                    
                    <!-- Karakter SayacÄ± -->
                    <div class="absolute bottom-2 right-3 text-xs text-[var(--muted)] pointer-events-none">
                        <span id="charCount">0</span>/1000
                    </div>
                </div>
                
                <!-- Ses KaydÄ± Butonu -->
                <button id="micButton" 
                        class="w-12 h-12 bg-[var(--teal-500)] hover:bg-[var(--teal-500)]/90 text-white rounded-full flex items-center justify-center transition-all duration-200 focus-ring relative overflow-hidden"
                        title="Ses kaydÄ± (basÄ±lÄ± tut)">
                    <i data-lucide="mic" class="w-5 h-5"></i>
                    <!-- KayÄ±t gÃ¶stergesi -->
                    <div id="micRipple" class="absolute inset-0 rounded-full bg-white/20 scale-0 animate-ripple opacity-0"></div>
                </button>
                
                <!-- GÃ¶nder Butonu -->
                <button id="sendButton" 
                        class="bg-[var(--teol-500)] hover:bg-[var(--teol-600)] text-white rounded-xl px-4 py-3 font-medium transition-all duration-200 flex items-center gap-2 focus-ring disabled:opacity-50 disabled:cursor-not-allowed"
                        title="GÃ¶nder (Enter)">
                    <i data-lucide="send" class="w-4 h-4"></i>
                    <span class="hidden sm:inline">GÃ¶nder</span>
                </button>
            </div>
            
            <!-- Ses Kontrolleri -->
            <div class="flex items-center gap-2 mt-3 pt-3 border-t border-[var(--border)]">
                <button id="speakButton" 
                        class="bg-[var(--teol-50)] text-[var(--teol-700)] hover:bg-[var(--teol-100)] border border-[var(--border)] px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 focus-ring"
                        title="Son mesajÄ± oku">
                    <i data-lucide="volume-2" class="w-4 h-4"></i>
                    <span>Oku</span>
                </button>
                
                <button id="stopSpeakButton" 
                        class="bg-gray-50 text-gray-600 hover:bg-gray-100 border border-gray-200 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 focus-ring disabled:opacity-50"
                        title="KonuÅŸmayÄ± durdur" disabled>
                    <i data-lucide="volume-x" class="w-4 h-4"></i>
                    <span>Durdur</span>
                </button>
                
                <!-- KonuÅŸma Durumu -->
                <div id="speakingStatus" class="hidden bg-[var(--teal-500)]/10 text-[var(--teal-500)] px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn">
                    <i data-lucide="volume-2" class="w-4 h-4 inline mr-1 animate-pulse"></i>
                    KonuÅŸuyor...
                </div>
            </div>
        </div>

        <!-- KayÄ±t GÃ¶stergesi -->
        <div id="recordingIndicator" class="fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-300">
            <div class="bg-white rounded-2xl p-6 text-center shadow-2xl max-w-sm mx-4 animate-fadeIn">
                <div class="relative mb-4">
                    <div class="w-16 h-16 mx-auto bg-red-500 rounded-full flex items-center justify-center animate-pulse">
                        <i data-lucide="mic" class="w-8 h-8 text-white"></i>
                    </div>
                    <div class="absolute inset-0 w-16 h-16 mx-auto border-4 border-red-500/30 rounded-full animate-ripple"></div>
                </div>
                <h3 class="font-semibold text-gray-900 mb-2">Dinliyorum...</h3>
                <p class="text-sm text-gray-600 mb-4">KonuÅŸmaya baÅŸlayÄ±n</p>
                <button id="stopRecording" 
                        class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center gap-2 mx-auto">
                    <i data-lucide="square" class="w-4 h-4"></i>
                    Durdur
                </button>
            </div>
        </div>
    </div>

    <!-- TEOL HakkÄ±nda Modal -->
    <div id="infoModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-300">
        <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto animate-fadeIn">
            <div class="p-6 border-b border-[var(--border)] flex items-center justify-between">
                <h3 class="text-lg font-semibold text-[var(--teol-700)] flex items-center gap-2">
                    <i data-lucide="graduation-cap" class="w-5 h-5"></i>
                    TEOL Dil KurslarÄ±
                </h3>
                <button class="w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors focus-ring" 
                        data-modal="infoModal">
                    <i data-lucide="x" class="w-4 h-4"></i>
                </button>
            </div>
            <div class="p-6 space-y-4">
                <div class="text-center">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-teol-400 to-teol-600 flex items-center justify-center">
                        <i data-lucide="languages" class="w-8 h-8 text-white"></i>
                    </div>
                    <h4 class="text-xl font-semibold text-[var(--teol-700)] mb-2">TEOL Dil OkullarÄ±</h4>
                    <p class="text-[var(--muted)] leading-relaxed text-sm mb-4">
                        TEOL Dil OkullarÄ±, 2013 ve 2014 yÄ±llarÄ±nda TÃ¼rkiye ve Avrupa'nÄ±n en kaliteli dil okulu seÃ§ilmiÅŸ ve 2014 yÄ±lÄ±nda dÃ¼nya Ã§apÄ±nda en iyi dil okulu unvanÄ±nÄ± kazanmÄ±ÅŸtÄ±r.
                    </p>
                    <div class="text-left space-y-3 text-sm text-[var(--muted)] leading-relaxed">
                        <p>
                            EÄŸitimin her aÅŸamasÄ±nda mÃ¼kemmeliyet anlayÄ±ÅŸÄ±nÄ± benimseyerek, uluslararasÄ± standartlarda sunduÄŸumuz dil eÄŸitimleriyle her Ã¶ÄŸrencimizin bireysel geliÅŸimine katkÄ± saÄŸlamaktayÄ±z.
                        </p>
                        <p>
                            <span class="font-medium text-[var(--teol-700)]">TÃ¼rkiye'de 14 ÅŸube</span> (Adana, Ankara, Bursa, Bodrum, EskiÅŸehir, Erzurum, Fethiye, Giresun, Ä°zmir, Ä°zmit, Ä°stanbul Avrupa, Ä°stanbul Anadolu, Mersin, Rize, Sakarya, Samsun, Trabzon) ve <span class="font-medium text-[var(--teol-700)]">Ä°ngiltere'de 1 ÅŸubemizle</span>, modern eÄŸitim yÃ¶ntemleriyle kalÄ±cÄ±, eÄŸlenceli ve etkili dil Ã¶ÄŸrenim fÄ±rsatlarÄ± sunuyoruz.
                        </p>
                        <p>
                            EÄŸitim anlayÄ±ÅŸÄ±mÄ±z Ã¶ÄŸrenci odaklÄ± olup, her bireyin ihtiyaÃ§larÄ±na yÃ¶nelik Ã¶zelleÅŸtirilmiÅŸ bir Ã¶ÄŸrenme sÃ¼reci yaratÄ±lmasÄ±na dayanÄ±r. GÃ¼Ã§lÃ¼ Ã¶ÄŸretim kadromuz ve yenilikÃ§i Ã¶ÄŸretim materyallerimizle, Ã¶ÄŸrencilerimizin yabancÄ± dil becerilerini en verimli ÅŸekilde geliÅŸtirmelerini saÄŸlÄ±yoruz.
                        </p>
                    </div>
                </div>
                
                <div class="space-y-3">
                    <div class="flex items-center gap-3 p-3 rounded-xl bg-[var(--teol-50)]">
                        <i data-lucide="message-circle" class="w-5 h-5 text-[var(--teol-600)]"></i>
                        <span class="text-sm text-[var(--teol-700)]">DoÄŸal dil anlayÄ±ÅŸÄ±</span>
                    </div>
                    <div class="flex items-center gap-3 p-3 rounded-xl bg-[var(--teol-50)]">
                        <i data-lucide="volume-2" class="w-5 h-5 text-[var(--teol-600)]"></i>
                        <span class="text-sm text-[var(--teol-700)]">Sesli iletiÅŸim desteÄŸi</span>
                    </div>
                    <div class="flex items-center gap-3 p-3 rounded-xl bg-[var(--teol-50)]">
                        <i data-lucide="brain" class="w-5 h-5 text-[var(--teol-600)]"></i>
                        <span class="text-sm text-[var(--teol-700)]">KiÅŸiselleÅŸtirilmiÅŸ Ã¶ÄŸrenme</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ayarlar Ã‡ekmecesi -->
    <div id="settingsPanel" class="fixed inset-y-0 right-0 w-80 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-40 border-l border-[var(--border)]">
        <div class="p-6 border-b border-[var(--border)] flex items-center justify-between">
            <h3 class="text-lg font-semibold text-[var(--teol-700)] flex items-center gap-2">
                <i data-lucide="sliders-horizontal" class="w-5 h-5"></i>
                Ayarlar
            </h3>
            <button id="closeSettings" 
                    class="w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors focus-ring">
                <i data-lucide="x" class="w-4 h-4"></i>
            </button>
        </div>
        
        <div class="p-6 space-y-6">
            <!-- Ses SeÃ§imi -->
            <div class="space-y-2">
                <label class="block text-xs font-medium text-[var(--muted)]" for="voiceSelect">
                    Ses SeÃ§imi
                </label>
                <select id="voiceSelect" 
                        class="w-full bg-white border border-[var(--border)] rounded-xl px-3 py-2 text-sm focus:ring-2 focus:ring-[var(--teol-300)] focus:border-[var(--teol-300)] focus:outline-none">
                    <option>VarsayÄ±lan</option>
                </select>
            </div>
            
            <!-- KonuÅŸma HÄ±zÄ± -->
            <div class="space-y-2">
                <label class="block text-xs font-medium text-[var(--muted)]" for="speechRate">
                    KonuÅŸma HÄ±zÄ±: <span id="rateValue" class="font-semibold">1.0</span>
                </label>
                <input type="range" 
                       id="speechRate" 
                       min="0.5" 
                       max="2" 
                       step="0.1" 
                       value="1"
                       class="w-full h-2 bg-[var(--teol-100)] rounded-lg appearance-none cursor-pointer slider">
            </div>
            
            <!-- Ses Tonu -->
            <div class="space-y-2">
                <label class="block text-xs font-medium text-[var(--muted)]" for="speechPitch">
                    Ses Tonu: <span id="pitchValue" class="font-semibold">1.0</span>
                </label>
                <input type="range" 
                       id="speechPitch" 
                       min="0" 
                       max="2" 
                       step="0.1" 
                       value="1"
                       class="w-full h-2 bg-[var(--teol-100)] rounded-lg appearance-none cursor-pointer slider">
            </div>
        </div>
    </div>

    <!-- Ayarlar Overlay -->
    <div id="settingsOverlay" class="fixed inset-0 bg-black/20 backdrop-blur-sm z-30 opacity-0 pointer-events-none transition-opacity duration-300"></div>

    <!-- Ayarlar Butonu -->
    <button id="settingsButton" 
            class="fixed bottom-6 right-6 w-12 h-12 bg-[var(--teol-500)] hover:bg-[var(--teol-600)] text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 focus-ring z-20" 
            title="Ayarlar">
        <i data-lucide="settings" class="w-5 h-5"></i>
    </button>

    <!-- Toast Bildirim AlanÄ± -->
    <div id="toastContainer" class="fixed top-6 right-6 space-y-2 z-50"></div>

    <script src="/script.js"></script>
    
    <!-- Lucide ikonlarÄ±nÄ± baÅŸlat -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            
            // BaÅŸlangÄ±Ã§ zamanÄ±nÄ± ayarla
            const welcomeTime = document.getElementById('welcomeTime');
            if (welcomeTime) {
                welcomeTime.textContent = new Date().toLocaleTimeString('tr-TR', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
            }
            
            // Slider styling
            const sliders = document.querySelectorAll('.slider');
            sliders.forEach(slider => {
                slider.style.background = `linear-gradient(to right, var(--teol-500) 0%, var(--teol-500) ${slider.value * 50}%, var(--teol-100) ${slider.value * 50}%, var(--teol-100) 100%)`;
                
                slider.addEventListener('input', function() {
                    const progress = (this.value - this.min) / (this.max - this.min) * 100;
                    this.style.background = `linear-gradient(to right, var(--teol-500) 0%, var(--teol-500) ${progress}%, var(--teol-100) ${progress}%, var(--teol-100) 100%)`;
                });
            });
        });
    </script>
</body>
</html>
